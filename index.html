<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Hoang Nguyen | Software Engineer</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg: #0c111d;
      --panel: #111827;
      --accent: #5fb3ff;
      --accent-soft: rgba(95,179,255,0.12);
      --text: #e5e7eb;
      --muted: #9ca3af;
      --border: #1f2937;
      --card: #0f172a;
    }
    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: "Space Grotesk", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: radial-gradient(circle at 10% 20%, rgba(95,179,255,0.12), transparent 35%),
                  radial-gradient(circle at 90% 10%, rgba(95,179,255,0.08), transparent 30%),
                  var(--bg);
      color: var(--text);
      line-height: 1.6;
      transition: background 1.5s ease, color 1.5s ease;
    }
    a { color: inherit; text-decoration: none; }
    header {
      position: sticky;
      top: 0;
      z-index: 10;
      backdrop-filter: blur(10px);
      background: rgba(12,17,29,0.85);
      border-bottom: 1px solid var(--border);
    }
    .nav {
      max-width: 1080px;
      margin: 0 auto;
      padding: 16px 20px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
    }
    .nav .brand {
      font-weight: 700;
      letter-spacing: 0.4px;
      display: flex;
      align-items: center;
      gap: 10px;
      font-size: 18px;
      transition: color 1.5s ease;
    }
    .nav .links {
      display: flex;
      gap: 16px;
      font-size: 14px;
      color: var(--muted);
      flex-wrap: wrap;
      justify-content: flex-end;
    }
    .nav a:hover { color: var(--accent); }
    .palette-switch {
      max-width: 1080px;
      margin: 0 auto;
      margin-top: 8px;
      display: flex;
      flex-wrap: wrap;
      justify-content: flex-end;
      gap: 8px;
      font-size: 13px;
    }
    .palette-switch button {
      border: 1px solid rgba(255,255,255,0.3);
      background: rgba(255,255,255,0.06);
      color: var(--text);
      border-radius: 999px;
      padding: 6px 14px;
      cursor: pointer;
      font-family: inherit;
      font-weight: 500;
      transition: background 0.2s ease, border 0.2s ease;
    }
    .palette-switch button:hover,
    .palette-switch button:focus-visible {
      outline: none;
      background: rgba(255,255,255,0.12);
      border-color: var(--accent);
    }
    .palette-switch button.active {
      background: var(--accent);
      border-color: var(--accent);
      color: #061125;
    }
    main {
      max-width: 1080px;
      margin: 0 auto;
      padding: 32px 20px 40px;
      display: flex;
      flex-direction: column;
      gap: 28px;
    }
    main.main-bottom {
      padding-top: 40px;
      padding-bottom: 80px;
    }
    .hero {
      background: var(--panel);
      background: linear-gradient(135deg, var(--accent-soft), var(--panel));
      border: 1px solid var(--border);
      border-radius: 18px;
      padding: 32px;
      display: grid;
      grid-template-columns: minmax(320px, 1.1fr) minmax(280px, 0.9fr);
      gap: 20px;
      align-items: center;
      transition: background 1.5s ease, border-color 1.5s ease;
    }
    .hero h1 {
      margin: 0;
      font-size: clamp(48px, 10vw, 92px);
      line-height: 1.05;
      color: var(--accent);
    }
    .hero .subtitle {
      color: var(--muted);
      margin: 10px 0 0;
      font-size: 18px;
    }
    .badges {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-top: 12px;
    }
    .badge {
      padding: 9px 14px;
      border-radius: 10px;
      border: 1px solid var(--border);
      background: var(--accent-soft);
      color: var(--text);
      font-size: 14px;
      display: inline-flex;
      gap: 8px;
      align-items: center;
    }
    .actions {
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
      margin-top: 14px;
    }
    .hero-meta {
      color: var(--muted);
      font-size: 15px;
      line-height: 1.5;
      display: grid;
      gap: 8px;
    }
    .hero-meta strong { color: var(--text); }
    .hero-links {
      display: flex;
      gap: 10px;
      align-items: center;
      margin-top: 10px;
    }
    .hero-links a {
      width: 34px;
      height: 34px;
      border-radius: 10px;
      border: 1px solid var(--border);
      display: inline-flex;
      align-items: center;
      justify-content: center;
      background: var(--accent-soft);
      transition: transform 0.15s ease, box-shadow 0.15s ease, background 1.5s ease, border-color 1.5s ease;
    }
    .hero-links a:hover { transform: translateY(-1px); box-shadow: 0 8px 20px rgba(0,0,0,0.25); color: var(--accent); }
    .avatar {
      width: 180px;
      height: 180px;
      border-radius: 50%;
      margin: 0 auto;
      position: relative;
      display: grid;
      place-items: center;
    }
    .avatar-ring {
      position: absolute;
      inset: -10px;
      border-radius: 50%;
      background: conic-gradient(from 0deg, var(--accent), var(--accent-soft), var(--accent));
      filter: blur(0px);
      opacity: 0.9;
    }
    .avatar-inner {
      width: 100%;
      height: 100%;
      border-radius: 50%;
      background: #0f172a;
      border: 2px solid var(--border);
      display: grid;
      place-items: center;
      position: relative;
      overflow: hidden;
    }
    .avatar-initials {
      font-size: 64px;
      font-weight: 700;
      color: var(--text);
      letter-spacing: 2px;
    }
    .btn {
      padding: 10px 16px;
      border-radius: 10px;
      border: 1px solid var(--accent);
      color: var(--text);
      font-weight: 600;
      font-size: 14px;
      background: var(--accent-soft);
      transition: transform 0.1s ease, box-shadow 0.1s ease;
    }
    .btn.secondary {
      border-color: var(--border);
      background: rgba(255,255,255,0.03);
    }
    .btn:hover { transform: translateY(-1px); box-shadow: 0 8px 20px rgba(0,0,0,0.25); }
    section {
      border: 1px solid var(--border);
      border-radius: 16px;
      padding: 24px 22px;
      background: var(--card);
      position: relative;
    }
    #commits { position: static; }
    section h2 {
      margin: 0 0 16px;
      font-size: clamp(34px, 6vw, 58px);
      letter-spacing: 0.35px;
      color: var(--accent);
    }
    .item {
      padding: 14px 0;
      border-bottom: 1px solid var(--border);
    }
    .item:last-child { border-bottom: none; }
    .item-header {
      display: flex;
      justify-content: space-between;
      gap: 8px;
      align-items: baseline;
      flex-wrap: wrap;
    }
    .item-title { font-weight: 700; font-size: 20px; line-height: 1.3; color: var(--accent); }
    .item-meta { color: var(--muted); font-size: 15px; }
    .company {
      display: flex;
      align-items: center;
      gap: 14px;
      flex-wrap: wrap;
    }
    .company-link {
      display: inline-flex;
      align-items: center;
      gap: 14px;
      color: inherit;
    }
    .company-link:hover { color: var(--accent); }
    .logo-badge {
      width: 68px;
      height: 68px;
      border-radius: 16px;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      background: var(--panel);
      border: 1px solid var(--border);
      padding: 10px;
      flex-shrink: 0;
    }
    .logo-badge.nws { width: 82px; height: 82px; padding: 8px; }
    .logo-badge.cmc { width: 110px; height: 78px; padding: 10px; }
    .logo-badge svg,
    .logo-badge img { width: 100%; height: 100%; display: block; object-fit: contain; border-radius: 8px; }
    .pill-row { display: flex; flex-wrap: wrap; gap: 8px; margin-top: 8px; }
    .pill {
      padding: 6px 10px;
      border-radius: 8px;
      background: rgba(95,179,255,0.14);
      color: var(--text);
      font-size: 12px;
      border: 1px solid var(--border);
    }
    ul.tight {
      margin: 8px 0 0;
      padding-left: 18px;
      color: var(--muted);
      font-size: 14px;
    }
    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      gap: 16px;
    }
    .card {
      border: 1px solid var(--border);
      border-radius: 14px;
      padding: 16px;
      background: var(--card);
      background: color-mix(in srgb, var(--text) 4%, var(--panel));
      display: flex;
      flex-direction: column;
      gap: 6px;
      transition: border-color 1.5s ease, background 1.5s ease;
    }
    .card h3 { margin: 0; font-size: 16px; }
    .card h3 a { color: var(--accent); transition: color 0.2s ease; }
    .card h3 a:hover,
    .card h3 a:focus-visible {
      color: #ffffff;
    }
    .card p { margin: 0; color: var(--muted); font-size: 14px; }
    #commits {
      border-radius: 0;
      border: none;
      border-top: 1px solid var(--border);
      border-bottom: 1px solid var(--border);
      padding: 40px 0;
      background: var(--card);
      box-shadow: 0 10px 30px rgba(0,0,0,0.2);
      width: 100%;
      max-width: none;
      margin: 0;
      position: relative;
    }
    .commit-stats {
      text-align: left;
      margin-bottom: 20px;
      max-width: 1080px;
      margin-left: auto;
      margin-right: auto;
      padding: 0 20px;
    }
    .commit-count {
      font-size: clamp(14px, 2.5vw, 18px);
      font-weight: 500;
      color: var(--muted);
      display: block;
    }
    .commit-date-range {
      display: flex;
      justify-content: space-between;
      margin-top: 16px;
      padding: 0 20px;
      max-width: 1080px;
      margin-left: auto;
      margin-right: auto;
      color: var(--muted);
      font-size: 14px;
    }
    .commit-wall-display {
      width: 100%;
      margin: 0;
      overflow-x: auto;
      scrollbar-width: thin;
      scrollbar-color: var(--accent) var(--panel);
      display: flex;
      justify-content: flex-start;
      padding: 10px 0;
    }
    .commit-wall-display::-webkit-scrollbar {
      height: 8px;
    }
    .commit-wall-display::-webkit-scrollbar-track {
      background: var(--panel);
      border-radius: 4px;
    }
    .commit-wall-display::-webkit-scrollbar-thumb {
      background: var(--accent);
      border-radius: 4px;
    }
    .commit-wall-display::-webkit-scrollbar-thumb:hover {
      background: color-mix(in srgb, var(--accent) 80%, white);
    }
    .commit-wall-display article {
      display: inline-block;
      min-width: max-content;
    }
    .commit-wall-display svg {
      display: block;
    }
    .commit-wall-display text {
      fill: var(--muted);
      font-size: 10px;
      font-family: inherit;
    }
    .commit-wall-display rect {
      transition: fill 1.5s ease, opacity 0.2s ease;
    }
    .commit-wall-display rect:hover {
      opacity: 0.8;
      stroke: var(--text);
      stroke-width: 1;
    }
    footer {
      text-align: center;
      color: var(--muted);
      font-size: 13px;
      padding: 18px 0 30px;
    }
    @media (max-width: 640px) {
      .nav { padding: 12px 16px; }
      main { padding: 24px 16px 64px; }
      .actions { flex-direction: column; align-items: flex-start; }
      .item-header { flex-direction: column; align-items: flex-start; }
      #commits {
        padding: 24px 0;
        border-radius: 0;
      }
      .commit-wall-display {
        padding: 0;
      }
      .commit-count {
        font-size: 13px;
      }
      .commit-stats {
        padding: 0 10px;
      }
      .commit-date-range {
        font-size: 12px;
      }
    }
  </style>
</head>
<body>
  <header id="home">
    <div class="nav">
      <div class="brand">Hoang Nguyen</div>
      <div class="links">
        <a href="#about">About</a>
        <a href="#education">Education</a>
        <a href="#experience">Experience</a>
        <a href="#projects">Projects</a>
        <a href="#skills">Skills</a>
        <a href="#commits">Commits</a>
        <a href="#resume">Resume</a>
      </div>
    </div>
    <!-- <div class="palette-switch" aria-label="Color palette switcher" style="display: none;">
      <button type="button" data-palette="deepsea">Deep Sea</button>
      <button type="button" data-palette="refresh">Refreshing Summer Fun</button>
      <button type="button" data-palette="vivid">Vivid Nightfall</button>
      <button type="button" data-palette="midnight">Midknight Sky</button>
      <button type="button" data-palette="olive">Olive Garden Feast</button>
      <button type="button" data-palette="berry">Berry Bliss</button>
      <button type="button" data-palette="golden">Golden Summer Fields</button>
      <button type="button" data-palette="earthy">Earthy Tones</button>
      <button type="button" data-palette="fiery">Fiery Ocean</button>
      <button type="button" data-palette="peach">Peaching Delight</button>
      <button type="button" data-palette="softpink">Soft Pink Delight</button>
      <button type="button" data-palette="autumn">Autumn Harvest</button>
      <button type="button" data-palette="sunset">Sunset Glow</button>
      <button type="button" data-palette="lavender">Lavender Dream</button>
      <button type="button" data-palette="mint">Mint Fresh</button>
      <button type="button" data-palette="coral">Coral Reef</button>
      <button type="button" data-palette="sapphire">Sapphire Sky</button>
      <button type="button" data-palette="gold">Golden Hour</button>
      <button type="button" data-palette="rose">Rose Garden</button>
      <button type="button" data-palette="teal">Teal Waters</button>
      <button type="button" data-palette="violet">Violet Nights</button>
      <button type="button" data-palette="crimson">Crimson Dawn</button>
      <button type="button" data-palette="emerald">Emerald Forest</button>
      <button type="button" data-palette="amber">Amber Glow</button>
      <button type="button" data-palette="indigo">Indigo Depths</button>
      <button type="button" data-palette="turquoise">Turquoise Waters</button>
      <button type="button" data-palette="magenta">Magenta Magic</button>
      <button type="button" data-palette="lime">Lime Energy</button>
      <button type="button" data-palette="cyan">Cyan Waves</button>
      <button type="button" data-palette="orange">Orange Sunset</button>
      <button type="button" data-palette="plum">Plum Paradise</button>
      <button type="button" data-palette="slate">Slate Modern</button>
      <button type="button" data-palette="forest">Forest Whisper</button>
    </div> -->
  </header>

  <main>
    <section class="hero">
      <div>
        <p class="subtitle">Hi, I'm</p>
        <h1>Hoang<br>Nguyen.</h1>
        <p class="subtitle">Software Engineer focused on thoughtful web backends and practical ML tooling.</p>
        <div class="badges">
          <span class="badge">Boston University · M.S. CS (2027)</span>
          <span class="badge">Purdue University · B.S. CS (2024)</span>
        </div>
        <div class="actions">
          <a class="btn" href="mailto:hnguy@bu.edu">Email</a>
          <a class="btn secondary" href="https://github.com/HoangNguyen0309" target="_blank" rel="noopener">GitHub</a>
          <a class="btn secondary" href="tel:+16175942934">Call</a>
          <a class="btn" href="#resume">View Resume</a>
        </div>
        <div class="hero-links">
          <a href="mailto:hnguy@bu.edu" aria-label="Email">✉️</a>
          <a href="https://www.linkedin.com" target="_blank" rel="noopener" aria-label="LinkedIn">in</a>
          <a href="https://github.com/HoangNguyen0309" target="_blank" rel="noopener" aria-label="GitHub">GH</a>
        </div>
      </div>
      <div style="display:grid; gap:14px; justify-items:center;">
        <div class="avatar" aria-label="Profile avatar">
          <div class="avatar-ring"></div>
          <div class="avatar-inner">
            <div class="avatar-initials">HN</div>
          </div>
        </div>
        <div class="hero-meta">
          <div><strong>CS @ Boston University</strong> · 2025–2027</div>
          <div><strong>Software Engineer Intern · Northwood Studios</strong> · Summer 2025</div>
          <div><strong>Software Engineer Intern · FPT Software</strong> · Summer 2024</div>
          <div>LeetCoder · Gym Rat · Always building</div>
        </div>
      </div>
    </section>
  </main>

  <section id="commits" aria-label="Live GitHub contribution wall">
    <div class="commit-stats">
      <span class="commit-count" id="commit-count">Loading commits...</span>
    </div>
    <div class="commit-wall-display"></div>
    <div class="commit-date-range">
      <span class="date-start" id="date-start"></span>
      <span class="date-end" id="date-end"></span>
    </div>
  </section>

  <main class="main-bottom">
    <section class="navigation-cards">
      <h2>Explore More</h2>
      <div class="grid">
        <div class="card">
          <h3><a href="about.html">About Me</a></h3>
          <p>Learn more about my background, interests, and what drives my passion for software engineering.</p>
        </div>
        <div class="card">
          <h3><a href="education.html">Education</a></h3>
          <p>My academic journey from Purdue University to Boston University.</p>
        </div>
        <div class="card">
          <h3><a href="experience.html">Work Experience</a></h3>
          <p>Professional roles and internships that have shaped my career in software development.</p>
        </div>
        <div class="card">
          <h3><a href="projects.html">Projects</a></h3>
          <p>Personal projects and technical achievements that showcase my skills and creativity.</p>
        </div>
        <div class="card">
          <h3><a href="skills.html">Skills & Technologies</a></h3>
          <p>The programming languages, frameworks, and tools I work with.</p>
        </div>
        <div class="card">
          <h3><a href="resume.html">Resume</a></h3>
          <p>Download my resume or get in touch for opportunities.</p>
        </div>
      </div>
    </section>
  </main>
  
  <footer>
    Last updated: January 12, 2026 · Built from Hoang Nguyen's resume.
  </footer>

  <script type="module">
    const USERNAME = 'HoangNguyen0309';
    const container = document.querySelector('.commit-wall-display');
    const commitCountEl = document.getElementById('commit-count');
    const dateStartEl = document.getElementById('date-start');
    const dateEndEl = document.getElementById('date-end');
    
    // Tile configuration - bigger tiles like youngjunyoo.com
    const TILE_SIZE = 48;
    const TILE_GAP = 6;
    const TILE_RADIUS = 8;
    
    // Get CSS variable values
    const getAccentColor = () => {
      return getComputedStyle(document.documentElement).getPropertyValue('--accent').trim() || '#5fb3ff';
    };
    
    const getPanelColor = () => {
      return getComputedStyle(document.documentElement).getPropertyValue('--panel').trim() || '#111827';
    };
    
    // Generate color levels based on theme
    function getColorLevels() {
      const accent = getAccentColor();
      const panel = getPanelColor();
      return [
        `color-mix(in srgb, ${panel} 90%, ${accent} 10%)`,
        `color-mix(in srgb, ${panel} 70%, ${accent} 30%)`,
        `color-mix(in srgb, ${panel} 50%, ${accent} 50%)`,
        `color-mix(in srgb, ${panel} 30%, ${accent} 70%)`,
        accent
      ];
    }
    
    // Fetch all contributions from GitHub API
    async function fetchAllContributions() {
      try {
        const response = await fetch(`https://github-contributions-api.jogruber.de/v4/${USERNAME}?y=all`);
        const data = await response.json();
        
        if (!data.contributions) {
          return { contributions: [], total: 0, years: [] };
        }
        
        // Combine all contributions from all years
        let allContributions = [];
        let total = 0;
        const years = Object.keys(data.total || {}).sort();
        
        // Get contributions array (it's already sorted by date)
        allContributions = data.contributions;
        
        if (data.total && typeof data.total === 'object') {
          total = Object.values(data.total).reduce((sum, count) => sum + count, 0);
        }
        
        return { contributions: allContributions, total, years };
      } catch (error) {
        console.error('Error fetching contributions:', error);
        return { contributions: [], total: 0, years: [] };
      }
    }
    
    // Get the level (0-4) for a contribution count
    function getLevel(count) {
      if (count === 0) return 0;
      if (count <= 3) return 1;
      if (count <= 6) return 2;
      if (count <= 9) return 3;
      return 4;
    }
    
    // Create the contribution graph SVG
    function createContributionGraph(contributions) {
      if (!contributions || contributions.length === 0) {
        container.innerHTML = '<p style="color: var(--muted); text-align: center; padding: 40px;">No contribution data available</p>';
        return;
      }
      
      const colors = getColorLevels();
      
      // Parse contributions into a map by date
      const contribMap = new Map();
      contributions.forEach(c => {
        contribMap.set(c.date, c.count);
      });
      
      // Find date range - cap end date to today
      const dates = contributions.map(c => new Date(c.date));
      const startDate = new Date(Math.min(...dates));
      const today = new Date();
      today.setHours(0, 0, 0, 0); // Reset to start of day
      const dataEndDate = new Date(Math.max(...dates));
      const endDate = dataEndDate > today ? today : dataEndDate;
      
      // Adjust startDate to the beginning of its week (Sunday)
      const startDay = startDate.getDay();
      startDate.setDate(startDate.getDate() - startDay);
      
      // Calculate number of weeks
      const oneDay = 24 * 60 * 60 * 1000;
      const totalDays = Math.ceil((endDate - startDate) / oneDay) + 1;
      const numWeeks = Math.ceil(totalDays / 7);
      
      // SVG dimensions
      const cellSize = TILE_SIZE + TILE_GAP;
      const svgWidth = numWeeks * cellSize + 40; // Extra padding
      const svgHeight = 7 * cellSize + 30; // 7 days + padding for labels
      
      // Create SVG
      let svg = `<svg width="${svgWidth}" height="${svgHeight}" xmlns="http://www.w3.org/2000/svg">`;
      
      // Add day labels
      const dayLabels = ['', 'Mon', '', 'Wed', '', 'Fri', ''];
      dayLabels.forEach((label, i) => {
        if (label) {
          svg += `<text x="0" y="${i * cellSize + 22}" fill="var(--muted)" font-size="11" font-family="inherit">${label}</text>`;
        }
      });
      
      // Draw contribution tiles
      let currentDate = new Date(startDate);
      let week = 0;
      let currentYear = null;
      let currentMonth = null;
      
      while (currentDate <= endDate) {
        const dayOfWeek = currentDate.getDay();
        const dateStr = currentDate.toISOString().split('T')[0];
        const count = contribMap.get(dateStr) || 0;
        const level = getLevel(count);
        const color = colors[level];
        
        const x = week * cellSize + 30;
        const y = dayOfWeek * cellSize + 10;
        
        // Add month/year labels at the start of each month
        const year = currentDate.getFullYear();
        const month = currentDate.getMonth();
        
        if (dayOfWeek === 0 && (currentMonth !== month || currentYear !== year)) {
          const monthNames = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];
          let label = monthNames[month];
          // Add year for January or first month shown
          if (month === 0 || currentYear !== year) {
            label += ` ${year}`;
          }
          svg += `<text x="${x}" y="6" fill="var(--muted)" font-size="10" font-family="inherit">${label}</text>`;
          currentMonth = month;
          currentYear = year;
        }
        
        // Draw tile
        svg += `<rect x="${x}" y="${y}" width="${TILE_SIZE}" height="${TILE_SIZE}" rx="${TILE_RADIUS}" ry="${TILE_RADIUS}" fill="${color}" data-date="${dateStr}" data-count="${count}">
          <title>${dateStr}: ${count} contribution${count !== 1 ? 's' : ''}</title>
        </rect>`;
        
        // Move to next day
        currentDate.setDate(currentDate.getDate() + 1);
        if (currentDate.getDay() === 0) {
          week++;
        }
      }
      
      svg += '</svg>';
      
      container.innerHTML = `<article style="display: inline-block; min-width: max-content; padding: 0 20px;">${svg}</article>`;
      
      // Scroll to the end (most recent) on load
      container.scrollLeft = container.scrollWidth;
    }
    
    // Initialize
    async function init() {
      // Show loading state
      commitCountEl.textContent = 'Loading contributions...';
      container.innerHTML = '<p style="color: var(--muted); text-align: center; padding: 40px;">Loading...</p>';
      
      // Fetch all contributions
      const { contributions, total, years } = await fetchAllContributions();
      
      // Update commit count
      if (total > 0) {
        commitCountEl.textContent = `${total.toLocaleString()} contributions total`;
      } else {
        commitCountEl.textContent = 'No contributions found';
      }
      
      // Update date range
      if (years.length > 0) {
        const firstYear = years[0];
        dateStartEl.textContent = `January 1, ${firstYear}`;
        
        const now = new Date();
        const monthNames = ['January', 'February', 'March', 'April', 'May', 'June', 
                          'July', 'August', 'September', 'October', 'November', 'December'];
        dateEndEl.textContent = `${monthNames[now.getMonth()]} ${now.getDate()}, ${now.getFullYear()}`;
      }
      
      // Render the contribution graph
      createContributionGraph(contributions);
    }
    
    // Start when DOM is ready
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', init);
    } else {
      init();
    }
    
    // Re-render when palette changes - preserve scroll position
    let allContributionsCache = null;
    const observer = new MutationObserver(async () => {
      // Save scroll position before re-rendering
      const scrollLeft = container.scrollLeft;
      const scrollMax = container.scrollWidth - container.clientWidth;
      const scrollRatio = scrollMax > 0 ? scrollLeft / scrollMax : 1;
      
      if (allContributionsCache) {
        createContributionGraph(allContributionsCache);
      } else {
        const { contributions } = await fetchAllContributions();
        allContributionsCache = contributions;
        createContributionGraph(contributions);
      }
      
      // Restore scroll position after re-rendering
      requestAnimationFrame(() => {
        const newScrollMax = container.scrollWidth - container.clientWidth;
        container.scrollLeft = scrollRatio * newScrollMax;
      });
    });
    observer.observe(document.documentElement, { attributes: true, attributeFilter: ['style'] });
    
    // Cache contributions for palette changes
    fetchAllContributions().then(({ contributions }) => {
      allContributionsCache = contributions;
    });
  </script>
  <script>
    (() => {
      const palettes = {
        olive: {
          bg: "#182117",
          panel: "#233122",
          accent: "#c6d292",
          text: "#f7f3eb",
          muted: "#c8d3b5",
          border: "#2f3c29",
          card: "#182716"
        },
        golden: {
          bg: "#1b1406",
          panel: "#2a210b",
          accent: "#f3c84d",
          text: "#fff7ef",
          muted: "#d6c39a",
          border: "#3c2f10",
          card: "#1b1508"
        },
        midnight: {
          bg: "#030618",
          panel: "#070f24",
          accent: "#9dd2ff",
          text: "#e6efff",
          muted: "#9bb4d7",
          border: "#101b3f",
          card: "#0b1430"
        },
        refresh: {
          bg: "#0c1c25",
          panel: "#12212c",
          accent: "#49c6eb",
          text: "#e8f7ff",
          muted: "#c1dced",
          border: "#0d2532",
          card: "#0c1923"
        },
        peach: {
          bg: "#1a090f",
          panel: "#2a1119",
          accent: "#ff957a",
          text: "#ffe7e0",
          muted: "#e1b7a6",
          border: "#340f1a",
          card: "#18080f"
        },
        fiery: {
          bg: "#041b25",
          panel: "#08233a",
          accent: "#ff6b35",
          text: "#f9f8f4",
          muted: "#fddcb0",
          border: "#0a1c2c",
          card: "#051324"
        },
        autumn: {
          bg: "#1d1302",
          panel: "#2d1f0c",
          accent: "#ffb347",
          text: "#fff3d7",
          muted: "#d8b08f",
          border: "#3a2613",
          card: "#1b1508"
        },
        earthy: {
          bg: "#0f1a0b",
          panel: "#17220f",
          accent: "#f4c95d",
          text: "#f9f7ef",
          muted: "#cfd2c0",
          border: "#1d2a16",
          card: "#0e1b0d"
        },
        deepsea: {
          bg: "#02131b",
          panel: "#032636",
          accent: "#3feadf",
          text: "#d7f3f7",
          muted: "#9ad6d9",
          border: "#06333c",
          card: "#011b25"
        },
        vivid: {
          bg: "#020c16",
          panel: "#03122d",
          accent: "#6e8bff",
          text: "#dde3ff",
          muted: "#aab9ff",
          border: "#07122b",
          card: "#020914"
        },
        berry: {
          bg: "#0c0b1b",
          panel: "#13112c",
          accent: "#d36cff",
          text: "#f9f9ff",
          muted: "#c9b8de",
          border: "#1b1b2c",
          card: "#0a0915"
        },
        softpink: {
          bg: "#1b0f16",
          panel: "#261523",
          accent: "#ff9fb2",
          text: "#fff0f8",
          muted: "#f0cfe2",
          border: "#321c2a",
          card: "#1a0b14"
        },
        // New palettes added
        sunset: {
          bg: "#2a1810",
          panel: "#3d2418",
          accent: "#ff7b54",
          text: "#fff8f5",
          muted: "#e8b8a8",
          border: "#4a2e20",
          card: "#25140c"
        },
        lavender: {
          bg: "#1a1625",
          panel: "#252038",
          accent: "#c77dff",
          text: "#f8f6ff",
          muted: "#d4c7e8",
          border: "#302b42",
          card: "#171223"
        },
        mint: {
          bg: "#0f1f1a",
          panel: "#172e26",
          accent: "#7fffd4",
          text: "#f0fffc",
          muted: "#b8e8d8",
          border: "#1f3a30",
          card: "#0e1a15"
        },
        coral: {
          bg: "#2a1414",
          panel: "#3d1f1f",
          accent: "#ff6b6b",
          text: "#fff5f5",
          muted: "#e8b8b8",
          border: "#4a2828",
          card: "#241010"
        },
        sapphire: {
          bg: "#0f141f",
          panel: "#17202e",
          accent: "#4facfe",
          text: "#f0f4ff",
          muted: "#a8c7e8",
          border: "#1f283a",
          card: "#0e121a"
        },
        gold: {
          bg: "#2a1f0f",
          panel: "#3d2e17",
          accent: "#ffd700",
          text: "#fffef0",
          muted: "#e8d8b8",
          border: "#4a3d1f",
          card: "#251d0e"
        },
        rose: {
          bg: "#251619",
          panel: "#382025",
          accent: "#ff69b4",
          text: "#fff0f8",
          muted: "#e8b8d8",
          border: "#422a30",
          card: "#1f1215"
        },
        teal: {
          bg: "#0f1f1f",
          panel: "#172e2e",
          accent: "#20b2aa",
          text: "#f0fffc",
          muted: "#b8e8e0",
          border: "#1f3a3a",
          card: "#0e1a1a"
        },
        violet: {
          bg: "#1f0f2a",
          panel: "#2e173d",
          accent: "#8a2be2",
          text: "#f8f0ff",
          muted: "#d4b8e8",
          border: "#3a1f4a",
          card: "#1a0e25"
        },
        crimson: {
          bg: "#2a0f14",
          panel: "#3d171f",
          accent: "#dc143c",
          text: "#fff0f2",
          muted: "#e8b8c4",
          border: "#4a1f28",
          card: "#250e12"
        },
        emerald: {
          bg: "#0f2a14",
          panel: "#173d1f",
          accent: "#50c878",
          text: "#f0fff2",
          muted: "#b8e8c4",
          border: "#1f4a28",
          card: "#0e2512"
        },
        amber: {
          bg: "#2a200f",
          panel: "#3d2f17",
          accent: "#ffbf00",
          text: "#fff9f0",
          muted: "#e8ddb8",
          border: "#4a3f1f",
          card: "#251c0e"
        },
        indigo: {
          bg: "#14102a",
          panel: "#1f173d",
          accent: "#4b0082",
          text: "#f0f0ff",
          muted: "#b8b8e8",
          border: "#28204a",
          card: "#100e25"
        },
        turquoise: {
          bg: "#0f252a",
          panel: "#17383d",
          accent: "#40e0d0",
          text: "#f0fffc",
          muted: "#b8e8e4",
          border: "#1f4a52",
          card: "#0e2125"
        },
        magenta: {
          bg: "#2a0f25",
          panel: "#3d1738",
          accent: "#ff00ff",
          text: "#fff0ff",
          muted: "#e8b8e8",
          border: "#4a1f47",
          card: "#250e22"
        },
        lime: {
          bg: "#1f2a0f",
          panel: "#2e3d17",
          accent: "#32cd32",
          text: "#f4fff0",
          muted: "#c4e8b8",
          border: "#3a4a1f",
          card: "#1a250e"
        },
        cyan: {
          bg: "#0f252a",
          panel: "#17383d",
          accent: "#00ffff",
          text: "#f0ffff",
          muted: "#b8e8e8",
          border: "#1f4a4a",
          card: "#0e2125"
        },
        orange: {
          bg: "#2a1a0f",
          panel: "#3d2817",
          accent: "#ff8c00",
          text: "#fff7f0",
          muted: "#e8cdb8",
          border: "#4a371f",
          card: "#25160e"
        },
        plum: {
          bg: "#200f2a",
          panel: "#2f173d",
          accent: "#dda0dd",
          text: "#faf0ff",
          muted: "#e4c7e8",
          border: "#3f1f4a",
          card: "#1c0e25"
        },
        slate: {
          bg: "#1a1f25",
          panel: "#252e38",
          accent: "#708090",
          text: "#f5f7fa",
          muted: "#c4d1d9",
          border: "#2a3542",
          card: "#151a22"
        },
        forest: {
          bg: "#0f1a0f",
          panel: "#172517",
          accent: "#228b22",
          text: "#f0f8f0",
          muted: "#b8d4b8",
          border: "#1f2f1f",
          card: "#0e150e"
        }
      };

      const buttons = document.querySelectorAll(".palette-switch button");
      const cycleInterval = 5000;
      function hexToHsl(hex) {
        let cleaned = hex.replace("#", "");
        if (cleaned.length === 3) cleaned = cleaned.split("").map((c) => c + c).join("");
        const value = parseInt(cleaned, 16);
        const r = ((value >> 16) & 255) / 255;
        const g = ((value >> 8) & 255) / 255;
        const b = (value & 255) / 255;
        const max = Math.max(r, g, b);
        const min = Math.min(r, g, b);
        let h = 0;
        const delta = max - min;
        if (delta !== 0) {
          if (max === r) {
            h = ((g - b) / delta) % 6;
          } else if (max === g) {
            h = (b - r) / delta + 2;
          } else {
            h = (r - g) / delta + 4;
          }
        }
        h = Math.round(h * 60);
        if (h < 0) h += 360;
        const l = (max + min) / 2;
        const s = delta === 0 ? 0 : delta / (1 - Math.abs(2 * l - 1));
        return { h, s, l };
      }
      const paletteKeys = Object.keys(palettes).sort((a, b) => {
        const ah = hexToHsl(palettes[a].accent);
        const bh = hexToHsl(palettes[b].accent);
        if (ah.h !== bh.h) return ah.h - bh.h;
        if (ah.s !== bh.s) return ah.s - bh.s;
        return ah.l - bh.l;
      });
      const switcher = document.querySelector(".palette-switch");
      if (switcher) {
        paletteKeys.forEach((key) => {
          const btn = switcher.querySelector(`button[data-palette="${key}"]`);
          if (btn) switcher.appendChild(btn);
        });
      }
      let autoIndex = 0;
      let autoTimer;

      function hexToRgb(hex) {
        let cleaned = hex.replace("#", "");
        if (cleaned.length === 3) {
          cleaned = cleaned.split("").map((c) => c + c).join("");
        }
        const value = parseInt(cleaned, 16);
        return {
          r: (value >> 16) & 255,
          g: (value >> 8) & 255,
          b: value & 255
        };
      }

      function restartCycle(index) {
        autoIndex = index;
        clearInterval(autoTimer);
        autoTimer = setInterval(cyclePalette, cycleInterval);
      }

      function applyPalette(name, restart = true) {
        const palette = palettes[name];
        if (!palette) return;
        Object.entries(palette).forEach(([varName, value]) => {
          document.documentElement.style.setProperty(`--${varName}`, value);
        });
        const accentRgb = hexToRgb(palette.accent);
        document.documentElement.style.setProperty("--accent-soft", `rgba(${accentRgb.r}, ${accentRgb.g}, ${accentRgb.b}, 0.16)`);
        buttons.forEach((btn) => {
          const isActive = btn.dataset.palette === name;
          btn.classList.toggle("active", isActive);
          btn.setAttribute("aria-pressed", String(isActive));
        });
        const index = paletteKeys.indexOf(name);
        if (index >= 0) {
          autoIndex = index;
          if (restart) {
            restartCycle(autoIndex);
          }
        }
      }

      function cyclePalette() {
        autoIndex = (autoIndex + 1) % paletteKeys.length;
        applyPalette(paletteKeys[autoIndex], false);
      }

      buttons.forEach((button) => {
        button.addEventListener("click", () => applyPalette(button.dataset.palette));
      });

      applyPalette(paletteKeys[0]);
    })();
  </script>
</body>
</html>
